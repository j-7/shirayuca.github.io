<!doctype html> 
<html>
  <head>
    <meta charset="utf-8" />
    <meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" />
    <title>shirayuca.github.io</title>
    <meta content="Blog description" name="description" />
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/blog/feed.xml" /><!--[if lt IE 9]><script src="../../../js/ie8.js" type="text/javascript"></script><![endif]--><link href="../../../css/all.css" media="screen" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button class="navbar-toggle" data-target=".navbar-ex1-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">shirayuca.github.io</a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
          <ul class="list-unstyled list-inline nav navbar-nav navbar-right">
            <li>
              <a href="mailto:SHIRATSUCHI_Yuka@hj.sanno.ac.jp"><i class="fa fa-envelope fa-lg fa-inverse"></i></a>
            </li>
            <li>
              <a href="http://shirayuca.github.io/blog/"><i class="fa fa-pencil-square fa-lg fa-inverse"></i></a>
            </li>
            <li>
              <a href="https://twitter.com/shirayuca"><i class="fa fa-twitter-square fa-lg fa-inverse"></i></a>
            </li>
            <li>
              <a href="https://www.facebook.com/yuca.shiratsuchi"><i class="fa fa-facebook-square fa-lg fa-inverse"></i></a>
            </li>
            <li>
              <a href="https://github.com/shirayuca"><i class="fa fa-github-square fa-lg fa-inverse"></i></a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="row"><div class="col-lg-3 col-md-3">
  <div class="well">
    <h4>
      Tags
    </h4>
    <ul class="list-unstyled">
      <li>
        <a href="/blog/tags/ブログ.html">ブログ</a> (2)
      </li>
      <li>
        <a href="/blog/tags/テーマ.html">テーマ</a> (1)
      </li>
      <li>
        <a href="/blog/tags/googleappsscript.html">GoogleAppsScript</a> (10)
      </li>
      <li>
        <a href="/blog/tags/学会.html">学会</a> (1)
      </li>
      <li>
        <a href="/blog/tags/ネットワーク分析.html">ネットワーク分析</a> (5)
      </li>
      <li>
        <a href="/blog/tags/mac.html">mac</a> (1)
      </li>
      <li>
        <a href="/blog/tags/データ.html">データ</a> (2)
      </li>
      <li>
        <a href="/blog/tags/参考文献.html">参考文献</a> (3)
      </li>
      <li>
        <a href="/blog/tags/文化.html">文化</a> (4)
      </li>
      <li>
        <a href="/blog/tags/拡張.html">拡張</a> (1)
      </li>
      <li>
        <a href="/blog/tags/ソーシャルメディア.html">ソーシャルメディア</a> (1)
      </li>
    </ul>
  </div>
</div>
<div class="col-lg-9 col-md-9"><h1>
  <a href="/blog/2014/09/07/yasuda.html">安田雪(2010)『「つながり」を突き止めろ　入門！ネットワーク・サイエンス 』</a>
</h1>
<hr />
<p>
  <span class="glyphicon glyphicon-time"></span> Posted on Sep  7
</p>
<hr />
<p><br /></p>

<p>ネットワーク分析の入門的な書籍です。この書籍のいいところは、実例をふんだんに扱っている点と、多くの先人達に関する逸話(小話？)が盛り込まれている点です。より楽しむためには、ネットワーク分析のはじめの一歩として読むよりも、バラバシ『新ネットワーク思考』や増田・今野『「複雑ネットワーク」とは何か』など、他の入門書や啓蒙書を読んでからの方が、より理解が広がるのではないかと思います。ネットワーク分析のインデックスとしても活用できます。</p>

<p>書籍の中で紹介されていた実例と関係の深いニュースやページのURLを以下にメモしておきます。</p>

<ul>
<li><a href="http://news.livedoor.com/article/detail/7164747/">前CIA長官が使った不倫の手口</a></li>
<li><a href="http://www.ifinance.ne.jp/glossary/world/wor018.html">エンロン事件</a></li>
<li><a href="http://r25.yahoo.co.jp/fushigi/wxr_detail/?id=20130323-00028749-r25">レス時間で相手の好意度を読む方法</a></li>
<li><a href="http://corp.gree.net/jp/ja/corporate/origin/">始まりと由来　グリー株式会社(GREE, Inc).</a></li>
<li><a href="https://www.youtube.com/watch?v=88inOjgMxRo">ソーシャル・ネットワーク(映画)</a></li>
<li><a href="https://www.youtube.com/watch?v=o1sjR1TtmA8">AC AIDS</a></li>
<li><a href="http://oracleofbacon.org/">The Oracle of Bacon</a></li>
</ul>

<p>書籍の中で紹介されていたり、関連がある参考文献を以下にメモしておきます。</p>

<ul>
<li><a href="http://www.amazon.co.jp/%E5%8F%8B%E6%83%85%E3%81%AE%E7%A4%BE%E4%BC%9A%E5%AD%A6-SEKAISHISO-SEMINAR-G-%E3%82%A2%E3%83%A9%E3%83%B3/dp/4790704610">G.アラン『友情の社会学』</a></li>
<li><a href="http://merc.e.u-tokyo.ac.jp/mmrc/dp/pdf/MMRC100_2006.pdf">勝又・安田(2006)「見えない連鎖 ―カレシの元カノの元カレを知っていますか？― 」</a></li>
<li><a href="http://ci.nii.ac.jp/naid/10022008079">松尾・安田(2007)「SNSにおける関係形成原理 : mixi のデータ分析」</a></li>
</ul>

<p><br /></p>

<hr /><h1>
  <a href="/blog/2014/09/02/watts-strogatz.html">watts.strogatz.game でスモールワールド・シミュレーション</a>
</h1>
<hr />
<p>
  <span class="glyphicon glyphicon-time"></span> Posted on Sep  2
</p>
<hr />
<p><br /></p>

<p>R のパッケージ igraph の watts.strogatz.game() 関数を用いて、スモールワールド・シミュレーションを行います。sna パッケージにて紹介されていたものを、igraph にて行った形となります。 igraph と sna では、レギュラーグラフの作り方に違いがあるので、全く同じ結果にはなりません。</p>

<p><br /></p>

<h4 id="ネットワーク図の作成">ネットワーク図の作成</h4>

<p>ランダム性 p について、0、0.2、1の3種類でネットワーク図を作成します。また、平均経路長、クラスター係数、および最短距離マトリックスと特定頂点の最短経路も出します。</p>

<script src="https://gist.github.com/shirayuca/4af16341509466a9be13.js"></script>

<p><br /></p>

<h4 id="100回繰り返し">100回繰り返し</h4>

<p>ランダム性 p について、0から1まで 0.01刻みに100回繰り返し、その結果の平均経路長とクラスター係数をプロットします。</p>

<script src="https://gist.github.com/shirayuca/0e6e00182086f7149a15.js"></script>

<p><br /></p>

<h4 id="クラスター係数と平均経路長の変化">クラスター係数と平均経路長の変化</h4>

<p>上記で100回繰り返した結果について、 p = 0 の値で割った、初期値に対する比の変化として片対数グラフを作成します。</p>

<script src="https://gist.github.com/shirayuca/5ea82d0a31dd7b35650a.js"></script>

<p><br /></p>

<h4 id="参考文献">参考文献</h4>

<ul>
<li><a href="http://www.inside-r.org/packages/cran/igraph/docs/watts.strogatz.game">http://www.inside-r.org/packages/cran/igraph/docs/watts.strogatz.game</a></li>
<li><a href="http://www.amazon.co.jp/%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF%E5%88%86%E6%9E%90-R%E3%81%A7%E5%AD%A6%E3%81%B6%E3%83%87%E3%83%BC%E3%82%BF%E3%82%B5%E3%82%A4%E3%82%A8%E3%83%B3%E3%82%B9-8-%E9%88%B4%E6%9C%A8-%E5%8A%AA/dp/4320019288">http://www.amazon.co.jp/%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF%E5%88%86%E6%9E%90-R%E3%81%A7%E5%AD%A6%E3%81%B6%E3%83%87%E3%83%BC%E3%82%BF%E3%82%B5%E3%82%A4%E3%82%A8%E3%83%B3%E3%82%B9-8-%E9%88%B4%E6%9C%A8-%E5%8A%AA/dp/4320019288</a></li>
</ul>

<p><br />
<br /></p>

<hr /><h1>
  <a href="/blog/2014/09/02/alias.html">ターミナルでコマンドの省略</a>
</h1>
<hr />
<p>
  <span class="glyphicon glyphicon-time"></span> Posted on Sep  2
</p>
<hr /><p><br /></p>

<p>ブログのエントリを作成する際、いつもターミナルを立ち上げ、 </p>

<pre><code>cd /Users/yuca/dev/...
</code></pre>

<p>と打ち込んでいたのですが、大変面倒なので、省略するコマンドを作りました。</p>

<p><br></p>

<h4 id="コマンド作成の流れ">コマンド作成の流れ</h4>

<p>.bashrc ファイルを開く。</p>

<pre><code>$ emacs ~/.bashrc
</code></pre>

<p>.bashrc ファイル内に、<code>alias エイリアス名=’コマンド’</code> を記述。</p>

<pre><code>alias blog=’cd /Users/yuca/dev/shirayuca.github.io/source/blog/posts’
</code></pre>

<p>.bash_profile ファイルを開く。</p>

<pre><code>$ emacs ~/.bash_profile
</code></pre>

<p>.bash_profile ファイル内に、<code>source .bashrc</code> の1行を追加。</p>

<p>下記のコマンドで変更を反映する。</p>

<pre><code>$ source ~/.bash_profile
</code></pre>

<p>これで、ターミナル上で <code>blog</code> と打てば、すぐにブログの .md ファイルがあるディレクトリに移動できます。</p>

<p><br></p>

<h4 id="参考url">参考URL</h4>

<ul>
<li><a href="http://laugh-raku.com/archives/2905">http://laugh-raku.com/archives/2905</a></li>
<li><a href="http://www.atmarkit.co.jp/ait/articles/0203/12/news001_2.html">http://www.atmarkit.co.jp/ait/articles/0203/12/news001_2.html</a></li>
</ul>

<p><br />
<br /></p>

<hr /><h1>
  <a href="/blog/2014/08/31/3graphs.html">木・格子・ランダムグラフの描画と平均経路長算出</a>
</h1>
<hr />
<p>
  <span class="glyphicon glyphicon-time"></span> Posted on Aug 31
</p>
<hr />
<p><br /></p>

<p>R で木グラフ、格子グラフ、ランダムグラフの描画と平均経路長を算出するためのコードです。</p>

<p><br /></p>

<script src="https://gist.github.com/shirayuca/a0ee3d51657f9e5124b5.js"></script>

<p><br /></p>

<script src="https://gist.github.com/shirayuca/7b1e86c8b26ed0f5d63e.js"></script>

<p><br /></p>

<script src="https://gist.github.com/shirayuca/bbf0b769a1621fa13825.js"></script>

<p><br /></p>

<p><br /></p>

<hr /><h1>
  <a href="/blog/2014/08/13/14pcc.html">2014 PCカンファレンスに参加</a>
</h1>
<hr />
<p>
  <span class="glyphicon glyphicon-time"></span> Posted on Aug 13
</p>
<hr />
<p><br /></p>

<p>札幌学院大学にて開催された、 PCカンファレンスに参加してきました。PCカンファレンスは、教育と学びにおけるコンピュータおよびネットワークの利用に関する学会で、今回私は、情報リテラシー系の科目に関するポスター発表をしてきました。</p>

<ul>
<li><a href="http://gakkai.univcoop.or.jp/pcc/2014/papers/pdf/pcc115.pdf">Excel 演習授業における反転授業のための補助教材の作成</a></li>
</ul>

<p>Excel演習授業では、本来の目的である「リテラシーを体得し、各々の目的に応じて活用する」に到達する以前に、演習をこなすことで精一杯になってしまうことがあります。そのため、事前学習用の教材を作成した、というのが今回の報告です。提案自体は技術的にも大変シンプルなのですが、特に初学者を苦しめるアプリケーション間の移動を最小限とするために、Excel上で演習や教材閲覧を全て終えられるような仕組みを目指しました。</p>

<p>今後は、受講者および担当教員のフィードバックに基づいて改善サイクルをまわすとともに、採点データの分析も視野に入れています。来年度のPCカンファレンスにて、報告をできるようにと考えています。</p>

<p>今回のPCカンファレンスでは、意見交換も活発にできて、大変勉強になりました。基調講演もとても良かったです。</p>

<ul>
<li><a href="http://gakkai.univcoop.or.jp/pcc/2014/">2014 PCカンファレンス</a></li>
<li><a href="http://pc.nikkeibp.co.jp/article/news/20140808/1139503/">教育とICTの学会「PCカンファレンス」が開幕、妹尾CIEC会長理事と熊坂慶應大学教授が基調講演</a></li>
<li><a href="http://pc.nikkeibp.co.jp/article/news/20140810/1139563/">【2014 PCカンファレンス】約30チームがポスター発表、高校生データサイエンティストやエプロン型コンピュータ</a></li>
</ul>

<p><br />
<br /></p>

<hr /><h1>
  <a href="/blog/2014/08/04/yahoo.html">Googleスプレッドシート上で形態素解析</a>
</h1>
<hr />
<p>
  <span class="glyphicon glyphicon-time"></span> Posted on Aug  4
</p>
<hr /><p><br /></p>

<p>形態素解析は、一昔前に比べると随分と導入が楽になったと感じます。一方で、「今後ばりばりテキストマイニングをしていくかどうかはわからないけれど、とりあえず試しに形態素解析をやってみたい」という人にとっては、環境構築など、面倒なことも少なくないかな、とも思います。そこで、Googleスプレッドシート上で形態素解析ができたら第一歩が気軽に踏み出せるのではないか、と考えました。</p>

<p>使用するのは、</p>

<ul>
<li>Googleスプレッドシート</li>
<li>Yahoo! の日本語形態素解析API</li>
</ul>

<p>です。</p>

<p><br /></p>

<h4 id="日本語形態素解析apiの利用">日本語形態素解析APIの利用</h4>

<p>まず、Yahoo!デベロッパーネットワークにて、アプリケーションIDを取得します。やり方は、下記のブログが参考になります。</p>

<ul>
<li><a href="http://ysklog.net/php/1581.html">http://ysklog.net/php/1581.html</a></li>
</ul>

<p><br /></p>

<h4 id="スプレッドシートの作成">スプレッドシートの作成</h4>

<p>続いて、Googleスプレッドシートを作成し、メニューから<code>ツール &gt; スクリプトエディタ</code>を選択します。その後、下記のコードを入力してください。アプリケーションIDは、上記で取得したものを用いてください。</p>

<script src="https://gist.github.com/shirayuca/14e8b2cb031baafed526.js"></script>

<p>スクリプトを編集した後、スプレッドシートにもどり、形態素解析を行ってみましょう。例として、A2セルに任意のテキストを入力し、<code>=yahooTextSegmentation(A2)</code>とすると、下記のようにテキストが形態素解析されます。よかったら、ぜひ試してみてください。</p>

<p><br /></p>  

<p><img alt="簡単献立シート" src="http://shirayuca.github.io/blog/2014/08/04/yahoo/yahoo.png"></p>

<p><br /></p>

<p><br /></p>

<h4 id="参考url">参考URL</h4>

<ul>
<li><a href="http://developer.yahoo.co.jp/webapi/jlp/ma/v1/parse.html">http://developer.yahoo.co.jp/webapi/jlp/ma/v1/parse.html</a></li>
<li><a href="http://ysklog.net/php/1581.html">http://ysklog.net/php/1581.html</a></li>
</ul>

<p><br />
<br /></p>

<hr /><h1>
  <a href="/blog/2014/08/04/imagelink.html">Markdown で画像へのハイパーリンク付与</a>
</h1>
<hr />
<p>
  <span class="glyphicon glyphicon-time"></span> Posted on Aug  4
</p>
<hr /><p><br /></p>

<p>Markdown でブログを書くのはとても簡単ですが、画像にハイパーリンクを張れないのが不便だな、と感じていました。そんなときは、直接 HTML のタグを書きます。</p>

<pre><code>&lt;p&gt;&lt;a href=&quot;…&quot;&gt;&lt;img alt=&quot;…&quot; src=&quot;…&quot;&gt;&lt;/a&gt;&lt;/p&gt;
</code></pre>

<p><br />
<br /></p>

<hr /><h1>
  <a href="/blog/2014/07/27/googleimage.html">各県のラーメン画像</a>
</h1>
<hr />
<p>
  <span class="glyphicon glyphicon-time"></span> Posted on Jul 27
</p>
<hr />
<p><br /></p>

<p>ふと、「各都道府県 AND ラーメン」で検索した画像一覧があったらおもしろいんじゃないか、と思いました。そこで、「都道府県名 AND ラーメン」のGoogleの画像検索のトップを抽出する Google Apps Script を作成しました。</p>

<ul>
<li><a href="https://docs.google.com/spreadsheets/d/1-Bz_JMxg9mqIfAmFxFgEvJArgeF8Z171999wSKQfA7Y/edit?usp=sharing">各都道府県のラーメン画像</a></li>
</ul>

<p><br /></p>

<p><a href="https://docs.google.com/spreadsheets/d/1-Bz_JMxg9mqIfAmFxFgEvJArgeF8Z171999wSKQfA7Y/edit?usp=sharing"><img alt="ラーメンシート" src="http://shirayuca.github.io/blog/2014/07/27/googleimage/ramen.png"></a></p>

<p><br /></p>

<h4 id="googleスプレッドシート上での関数等">Googleスプレッドシート上での関数等</h4>

<p>下記のように関数を作成し、「各都道府県名 AND ラーメン」というキーワードを引数としてURLを取得し、その後該当URLの画像を表示しています。
<script src="https://gist.github.com/shirayuca/204a9d3a269dc8dde883.js"></script></p>

<p><br /></p>

<p>こちらのスクリプトは、下記の2ページを参考に作成しています。</p>

<ul>
<li><a href="http://t-kashima.hateblo.jp/entry/2012/03/11/235755">http://t-kashima.hateblo.jp/entry/2012/03/11/235755</a></li>
<li><a href="http://www.garunimo.com/program/linux/linux43.xhtml">http://www.garunimo.com/program/linux/linux43.xhtml</a></li>
</ul>

<p><br />
<br /></p>

<hr /><h1>
  <a href="/blog/2014/07/27/recipe.html">かんたん献立シート</a>
</h1>
<hr />
<p>
  <span class="glyphicon glyphicon-time"></span> Posted on Jul 27
</p>
<hr /><p><br /></p>

<p>最近、Googleスプレッドシートの importXML関数にハマっています。いろいろと遊んでいる中で、さらに image関数では画像表示もできることを知りました。それならば、ぜひ画像を表示したい…とあれこれ考えてみて、そうだ、クックパッドのレシピ画像を表示できたらいいな、ということになりました。  </p>

<p><br /></p>  

<p><a href="https://docs.google.com/spreadsheets/d/1YpToeif_6z-Nb3HXlo5VtG2eMUztlUEdHdzvmk4ebBs/edit?usp=sharing"><img alt="簡単献立シート" src="http://shirayuca.github.io/blog/2014/07/27/recipe/menusheet.png"></a></p>

<p><br /></p>

<p>ということで、Googleスプレッドシートにクックパッドのレシピを表示できるようなファイルを作成しました。使い方はとても簡単で、</p>

<ol>
<li>クックパッドで毎日のレシピを検索する</li>
<li>検索したレシピのURLをスプレッドシート上のグレーのセルに貼り付ける</li>
</ol>

<p>これだけです。</p>

<p>Googleスプレッドシートは共有も簡単なので、例えば家族とファイルを共有して1週間の献立を一緒に考えたり、あるいは、食材のまとめ買いにも使えそうです。また、シートをコピーして使用していけば、毎週の献立を保存しておくこともできるので、あの日のメニューもすぐに思い出せます。よかったら、ぜひ使ってみてください。  </p>

<p><br /></p>

<p>最初に使用する際は、[ファイル]→[コピーを作成]で、自分のGoogle Drive にコピーしてください。  </p>

<ul>
<li><a href="https://docs.google.com/spreadsheets/d/1YpToeif_6z-Nb3HXlo5VtG2eMUztlUEdHdzvmk4ebBs/edit?usp=sharing">かんたん献立シート</a>
<p><br /></p></li>
</ul>

<p><br /></p>

<h4 id="googleスプレッドシート上で使用した関数">Googleスプレッドシート上で使用した関数</h4>

<p>Googleスプレッドシート上のB列を例に、以下に説明します。</p>

<ul>
<li><p>B2セル</p>

<ul>
<li>クックパッドのレシピURLを入力</li>
</ul></li>
<li><p>B3セル</p>

<ul>
<li>レシピの画像URLを取得（シート上では非表示）
<code>=importxml(B2,&quot;//img[@class=&#39;analytics_tracking photo large_photo_clickable&#39;]/@src&quot;)
</code></li>
</ul></li>
</ul>

<ul>
<li><p>B4セル</p>

<ul>
<li>レシピのタイトルを取得
<code>=importxml(B2,&quot;//h1&quot;)
</code></li>
</ul></li>
<li><p>B5セル</p>

<ul>
<li>B3セルで取得した画像URLを表示
<code>=image(B3,4,150,150)
</code></li>
</ul></li>
<li><p>B6セル</p>

<ul>
<li>レシピの材料を取得、行列入れ替えで表示
<code>=TRANSPOSE(importxml(B2,&quot;//*[@id=&#39;ingredients_list&#39;]&quot;))
</code>
<p><br /></p></li>
</ul></li>
</ul>

<p><br />
<br /></p>

<hr /><h1>
  <a href="/blog/2014/07/16/14theme.html">2014年度春学期のテーマ一覧</a>
</h1>
<hr />
<p>
  <span class="glyphicon glyphicon-time"></span> Posted on Jul 16
</p>
<hr />
<p><br /></p>

<p>データ分析に関して、2014年度春学期に手を付けた／これから手を付けたいテーマの一覧です。GoogleAppsScriptでデータを取得し、Googleスプレッドシート上で分析するサイクルをまわしていけたらいいな、と思っています。このページは個人的な備忘録として使用しているため、適宜更新しています。
<p><br /></p></p>

<h4 id="ソーシャルデータ">ソーシャルデータ</h4>

<ul>
<li>みんなのウェディング</li>
<li>NAVERまとめ</li>
<li>食べログ</li>
<li>GitHub</li>
<li>twitter </li>
</ul>

<p><br /></p>

<h4 id="アンケート調査">アンケート調査</h4>

<ul>
<li>ペットボトル飲料</li>
<li>B級グルメ</li>
<li>マクドナルドのメニュー</li>
<li>ガム・のど飴</li>
<li>東京のお出かけスポット</li>
<li>深夜バラエティ番組</li>
<li>ドラえもんのひみつ道具</li>
<li>昔話</li>
</ul>

<p><br /></p>

<h4 id="その他">その他</h4>

<ul>
<li>ジャニーズの歌詞</li>
<li>アイドルの歌詞（ハロプロ、AKB、おニャン子）</li>
</ul>

<p><br />
<br /></p>

<hr />
<div class="well-sm">
  <ul class="pager">
    <li class="previous">
      <a href="/blog/page/2/">&larr;</a>
    </li>
    <span class="text-center">Page 3 of 4</span>
    <li class="next">
      <a href="/blog/page/4/">&rarr;</a>
    </li>
  </ul>
</div>
  <hr>
    <p class="text-center">
      2014 <a href="/">shirayuca.github.io</a>
    </p>
  </hr>
</div>
      </div>
    </div>
    <script src="../../../js/all.js" type="text/javascript"></script>
  </body>
</html>