/***********************************************
Jquery Live Link Preview Plugin
Copyright (c) 2014 Alan Phoon, www.ampedupdesigns.com  
This notice MUST stay intact for legal use and may not be modified.

Licensed under GNU GENERAL PUBLIC LICENSE
***********************************************/
!function(t){t.fn.extend({livePreview:function(e){var i={trigger:"hover",targetWidth:1e3,targetHeight:800,viewWidth:300,viewHeight:200,position:"right",positionOffset:50},e=t.extend(i,e),a=e.viewWidth/e.targetWidth,r=e.viewHeight/e.targetHeight,o=1,n="livepreview_dialog";o="undefined"!=typeof e.scale?e.scale:a>r?a:r;var d=function(i){var a=i.data.triggerType,r=i.data.target,o=i.data.href,d=i.data.scale;"click"==a&&0==t("#"+n).length&&i.preventDefault();var s=e.position;r.attr("data-position")&&(s=r.attr("data-position"));var g=e.positionOffset;r.attr("data-positionOffset")&&(g=r.attr("data-positionOffset")),r.attr("data-scale")&&(d=r.attr("data-scale"));var v=t(this).offset(),f=t(this).width(),h=v.left+f+g;"left"==s&&(h=v.left-e.viewWidth-g);var l=v.top-e.viewHeight/2;t("body").append('<div id="livepreview_dialog" class="'+s+'" style="display:none; padding:0px; left: '+h+"px; top:"+l+"px; width: "+e.viewWidth+"px; height: "+e.viewHeight+'px"><div class="livepreview-container" style="overflow:hidden; width: '+e.viewWidth+"px; height: "+e.viewHeight+'px"><iframe id="livepreview_iframe" src="'+o+'" style="height:'+e.targetHeight+"px; width:"+e.targetWidth+"px;-moz-transform: scale("+d+");-moz-transform-origin: 0 0;-o-transform: scale("+d+");-o-transform-origin: 0 0;-webkit-transform: scale("+d+');-webkit-transform-origin: 0 0;"></iframe></div></div>'),t("#"+n).fadeIn(100)};return this.each(function(){var i=o,a=t(this),r=a.attr("data-preview-url")||a.attr("href"),s=e.trigger;a.attr("data-trigger")&&(s=a.attr("data-trigger")),"click"!=s&&(s="mouseenter",a.on("click",function(){t("#"+n).remove()})),a.on(s,null,{triggerType:s,target:a,href:r,scale:i},d),a.on("mouseleave",function(){t("#"+n).remove()})})}})}(jQuery);